{"version":3,"file":"HomeResetTodayMenuService.js","sourceRoot":"./src/","sources":["Service/Home/Service/HomeResetTodayMenuService.ts"],"names":[],"mappings":";;;AAGA,MAAa,yBAAyB;IAMlC;QACI,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;IACtB,CAAC;IAED,MAAM,CAAC,OAAgB;QACnB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IAC3B,CAAC;IAED,IAAI;QACA,WAAW,CAAC,GAAG,EAAE;YACb,IAAI,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;YAChC,IAAI,IAAI,CAAC,OAAO,IAAI,KAAK,EAAE;gBACvB,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;gBAC9B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACxB;QACL,CAAC,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;IAClB,CAAC;CAEJ;AAxBD,8DAwBC","sourcesContent":["import { MenuDao } from \"../../../DB/Dao/Menu/MenuDao\";\r\nimport { DateHelper } from \"../../../Util/DateHelper\";\r\n\r\nexport class HomeResetTodayMenuService {\r\n\r\n    lastDay: number;\r\n\r\n    menuDao: MenuDao;\r\n\r\n    constructor() {\r\n        this.lastDay = -1;\r\n    }\r\n\r\n    Inject(menuDao: MenuDao) {\r\n        this.menuDao = menuDao;\r\n    }\r\n\r\n    Init() {\r\n        setInterval(() => {\r\n            let today = new Date().getDay();\r\n            if (this.lastDay != today) {\r\n                this.menuDao.ResetTodayMenu();\r\n                this.lastDay = today;\r\n            }\r\n        }, 1000 * 60);\r\n    }\r\n\r\n}"]}