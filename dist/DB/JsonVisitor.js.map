{"version":3,"file":"JsonVisitor.js","sourceRoot":"./src/","sources":["DB/JsonVisitor.ts"],"names":[],"mappings":";;;AAAA,2BAAiF;AAEjF,MAAa,WAAW;IAEpB,MAAM,CAAC,qBAAqB,CAAI,QAAgB,EAAE,QAA2B;QACzE,aAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE;YAC7B,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC9B,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAC/B,QAAQ,CAAC,IAAI,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,MAAM,CAAC,gBAAgB,CAAI,QAAe;QACtC,IAAI,CAAC,eAAU,CAAC,QAAQ,CAAC,EAAE;YACvB,OAAO,IAAI,CAAC;SACf;QACD,IAAI,IAAI,GAAW,iBAAY,CAAC,QAAQ,CAAC,CAAC;QAC1C,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAC/B,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,MAAM,CAAC,gBAAgB,CAAC,QAAgB,EAAE,IAAS,EAAE,QAAoB;QACrE,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACnC,cAAS,CAAC,QAAQ,EAAE,OAAO,EAAE,GAAG,EAAE;YAC9B,QAAQ,EAAE,CAAC;QACf,CAAC,CAAC,CAAC;IACP,CAAC;IAED,MAAM,CAAC,WAAW,CAAC,QAAgB,EAAE,IAAQ;QACzC,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACnC,kBAAa,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IACrC,CAAC;CAEJ;AAhCD,kCAgCC","sourcesContent":["import { readFile, readFileSync, writeFile, writeFileSync, existsSync } from \"fs\"\r\n\r\nexport class JsonVisitor {\r\n\r\n    static ReadJsonFromFileAsync<T>(filePath: string, callback: (json: T) => void): void {\r\n        readFile(filePath, (err, data) => {\r\n            let jsonStr = data.toString();\r\n            let json = JSON.parse(jsonStr);\r\n            callback(json);\r\n        });\r\n    }\r\n\r\n    static ReadJsonFromFile<T>(filePath:string): T {\r\n        if (!existsSync(filePath)) {\r\n            return null;\r\n        }\r\n        let data: Buffer = readFileSync(filePath);\r\n        let jsonStr = data.toString();\r\n        let json = JSON.parse(jsonStr);\r\n        return json;\r\n    }\r\n\r\n    static WriteToFileAsync(filePath: string, json: any, callback: () => void): void {\r\n        let jsonStr = JSON.stringify(json);\r\n        writeFile(filePath, jsonStr, () => {\r\n            callback();\r\n        });\r\n    }\r\n\r\n    static WriteToFile(filePath: string, json:any): void {\r\n        let jsonStr = JSON.stringify(json);\r\n        writeFileSync(filePath, jsonStr);\r\n    }\r\n\r\n}"]}